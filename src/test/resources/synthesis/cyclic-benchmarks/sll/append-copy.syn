# -x true --lexi true -p true
append multiple lists

###

{true ; r :-> x2 ** sll(x1, s1) ** sll(x2, s2)}
void sll_append_copy(loc x1, loc r)
{s =i s1 ++ s2 ; r :-> y ** sll(x1, s1) ** sll(x2, s2) ** sll(y, s)}

###

{r :-> x2 ** sll(x1, s1)<_alpha_514> ** sll(x2, s2)<_alpha_515>}
{s == s1 + s2 ; r :-> y ** sll(x1, s1)<_alpha_516> ** sll(x2, s2)<_alpha_517> ** sll(y, s)<_alpha_518>}
void sll_append_copy (loc x1, loc r) {
  let x = *r;
  if (x1 == 0) {
    sll_append_copy00(x, x1, r);
  } else {
    let v = *x1;
    let n = *(x1 + 1);
    sll_append_copy(n, r);
    let y1 = *r;
    let y = malloc(2);
    *r = y;
    *(y + 1) = y1;
    *y = v;
  }
}

{not (r == 0) && s1 =i {} && x1 == 0 ; r :-> x22 ** sll(x22, s2)<_alpha_515>}
{r :-> y ** sll(x1, s1)<_alpha_516> ** sll(x22, s2)<_alpha_517> ** sll(y, s1 ++ s2)<_alpha_518>}
void sll_append_copy00 (loc x22, loc x1, loc r) {
  if (x22 == 0) {
  } else {
    let v = *x22;
    let n = *(x22 + 1);
    *r = n;
    sll_append_copy00(n, 0, r);
    let y1 = *r;
    let y = malloc(2);
    *r = y;
    *(y + 1) = y1;
    *y = v;
  }
}

###

1
1
1
1
1
1
3
1
8
3
1
4
3
1
1
1
6
1
7
3
1
3
3